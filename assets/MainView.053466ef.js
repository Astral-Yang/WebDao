import{r as $,g as G,j as H,m as M,l as q,s as N}from"./element-plus.8bd38160.js";import{u as O}from"./vue-router.acfefc2e.js";import{_ as R,u as U,r as b}from"./index.5990548b.js";import{D as k}from"./Date.43b474cf.js";import{h as y,a0 as L,aa as m,o as u,c as _,L as e,J as t,G as C,ac as S,a as c,O as p,F as E,a2 as f,u as D}from"./@vue.2fe4fb4f.js";import"./@element-plus.6dbc46d1.js";import"./@vueuse.1809dbd0.js";import"./lodash-es.292de2a1.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./js-md5.959ac667.js";import"./@babel.53fad141.js";import"./@kangc.4df2a972.js";import"./vue.02683aef.js";import"./@vuepress.0f7d6c54.js";import"./highlight.js.a44cb2e8.js";import"./codemirror.c24216d8.js";import"./sakana-widget.26843129.js";const J=["src"],K={key:0,style:{top:"0",color:"#666666","font-weight":"bolder","font-size":"24px","word-break":"break-all",overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",margin:"0",height:"30px","line-height":"30px","word-wrap":"break-word"}},Q={key:1,style:{top:"0",color:"#666666","font-weight":"bolder","font-size":"24px","word-break":"break-all",overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"1","-webkit-box-orient":"vertical",margin:"0",height:"30px","line-height":"30px","word-wrap":"break-word"}},W={style:{height:"150px",width:"auto"}},X={class:"introCard"},Y={style:{color:"#777777","font-size":"small",bottom:"10px",position:"absolute",width:"55%"}},Z={__name:"MainView",setup(ee){U();const g=O(),h=y(""),v=y(""),w=y(parseInt(g.params.page||1));let F="https://source.unsplash.com/random/900x600/?desktop,wallparper";function x(l){const a="https://server.asgardion.space",d=new Headers;d.append("Content-Type","application/json");let n={method:"GET",headers:d,redirect:"follow"};fetch(`${a}/article/?_sort=weight&_order=desc&_page=${l}&_limit=5`,n).then(i=>i.json()).then(i=>{v.value=i,l!==1?b.push({name:"Page",params:{page:l}}):b.push({name:"Main"})});let s;cancelAnimationFrame(s),s=requestAnimationFrame(function i(){let r=document.body.scrollTop||document.documentElement.scrollTop;r>0?(scrollTo(0,r-25),s=requestAnimationFrame(i)):cancelAnimationFrame(s)})}function T(){const l="https://server.asgardion.space",a=new Headers;a.append("Content-Type","application/json");let d={method:"GET",headers:a,redirect:"follow"};fetch(`${l}/article/`,d).then(n=>n.json()).then(n=>{h.value=n.length,localStorage.setItem("allHas",h.value)})}L(()=>{typeof g.params.page<"u"?x(g.params.page):x(1),T()});function A(l){return F+","+l+")"}return(l,a)=>{const d=m("Reading"),n=$,s=G,i=H,r=M,B=m("User"),I=m("Folder"),P=m("Paperclip"),V=m("EditPen"),j=q,z=N;return u(),_(C,null,[e(s,{style:{height:"24px"},align:"middle"},{default:t(()=>[e(n,{size:20,style:{color:"#E57B89","margin-top":"2px"}},{default:t(()=>[e(d)]),_:1}),a[2]||(a[2]=c("span",{style:{"font-weight":"bolder",color:"#666666","font-size":"larger","margin-left":"4.5px"}},"\u601D\u91CFDAO\u4E0A\u7684\u85CF\u5178\u9601",-1))]),_:1}),e(i,{id:"divider","border-style":"dashed","content-position":"left"}),(u(!0),_(C,null,S(v.value,o=>(u(),_("div",null,[e(s,{onClick:te=>l.$router.push({name:"Article",params:{articleId:o.id}}),style:{cursor:"pointer"}},{default:t(()=>[e(r,{span:24,style:{"margin-bottom":"20px"}},{default:t(()=>[e(j,{class:"articleCard"},{default:t(()=>[e(s,null,{default:t(()=>[e(r,{span:10,class:"articleImgBox"},{default:t(()=>[c("img",{src:A(o.topic),class:"articleImg"},null,8,J)]),_:2},1024),e(r,{span:14,style:{padding:"10px 15px 15px 15px"}},{default:t(()=>[o.weight===0?(u(),_("h1",K,p(o.topic),1)):E("",!0),o.weight!==0?(u(),_("h1",Q,[a[3]||(a[3]=c("span",{style:{color:"#F46B6B"}},"\u300C\u7F6E\u9876\u300D",-1)),f(p(o.topic),1)])):E("",!0),c("div",W,[c("span",X,p(o.intro),1),c("span",Y,[e(s,null,{default:t(()=>[e(r,{span:12},{default:t(()=>[e(n,{style:{top:"2px"}},{default:t(()=>[e(B)]),_:1}),f(" \u4F5C\u8005\uFF1A"+p(o.author),1)]),_:2},1024),e(r,{span:12},{default:t(()=>[e(n,{style:{top:"2px"}},{default:t(()=>[e(I)]),_:1}),f(" \u5206\u7C7B\uFF1A"+p(o.assort),1)]),_:2},1024),e(r,{span:12},{default:t(()=>[e(n,{style:{top:"2px"}},{default:t(()=>[e(P)]),_:1}),f(" \u6295\u9001\u4E8E\uFF1A"+p(D(k)(new Date(o.createDate))),1)]),_:2},1024),e(r,{span:12},{default:t(()=>[e(n,{style:{top:"2px"}},{default:t(()=>[e(V)]),_:1}),f(" \u4FEE\u6539\u4E8E\uFF1A"+p(D(k)(new Date(o.changeDate))),1)]),_:2},1024)]),_:2},1024)])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]))),256)),e(s,{style:{width:"100%"},class:"pagination",align:"middle",justify:"center"},{default:t(()=>[e(z,{style:{transform:"scale(1.2,1.2)"},"hide-on-single-page":!0,"page-size":5,"current-page":w.value,"onUpdate:currentPage":a[0]||(a[0]=o=>w.value=o),layout:"prev, pager, next",total:h.value,onCurrentChange:a[1]||(a[1]=o=>x(w.value))},null,8,["current-page","total"])]),_:1})],64)}}},ye=R(Z,[["__scopeId","data-v-37458663"]]);export{ye as default};
